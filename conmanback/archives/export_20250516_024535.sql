PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL);
INSERT INTO django_migrations VALUES(1,'contenttypes','0001_initial','2025-05-16 02:23:53.220551');
INSERT INTO django_migrations VALUES(2,'api','0001_initial','2025-05-16 02:23:53.265523');
INSERT INTO django_migrations VALUES(3,'admin','0001_initial','2025-05-16 02:23:53.291520');
INSERT INTO django_migrations VALUES(4,'admin','0002_logentry_remove_auto_add','2025-05-16 02:23:53.308425');
INSERT INTO django_migrations VALUES(5,'admin','0003_logentry_add_action_flag_choices','2025-05-16 02:23:53.320314');
INSERT INTO django_migrations VALUES(6,'contenttypes','0002_remove_content_type_name','2025-05-16 02:23:53.351022');
INSERT INTO django_migrations VALUES(7,'auth','0001_initial','2025-05-16 02:23:53.384236');
INSERT INTO django_migrations VALUES(8,'auth','0002_alter_permission_name_max_length','2025-05-16 02:23:53.400791');
INSERT INTO django_migrations VALUES(9,'auth','0003_alter_user_email_max_length','2025-05-16 02:23:53.412984');
INSERT INTO django_migrations VALUES(10,'auth','0004_alter_user_username_opts','2025-05-16 02:23:53.425235');
INSERT INTO django_migrations VALUES(11,'auth','0005_alter_user_last_login_null','2025-05-16 02:23:53.438450');
INSERT INTO django_migrations VALUES(12,'auth','0006_require_contenttypes_0002','2025-05-16 02:23:53.444591');
INSERT INTO django_migrations VALUES(13,'auth','0007_alter_validators_add_error_messages','2025-05-16 02:23:53.455639');
INSERT INTO django_migrations VALUES(14,'auth','0008_alter_user_username_max_length','2025-05-16 02:23:53.467854');
INSERT INTO django_migrations VALUES(15,'auth','0009_alter_user_last_name_max_length','2025-05-16 02:23:53.486401');
INSERT INTO django_migrations VALUES(16,'auth','0010_alter_group_name_max_length','2025-05-16 02:23:53.515458');
INSERT INTO django_migrations VALUES(17,'auth','0011_update_proxy_permissions','2025-05-16 02:23:53.536196');
INSERT INTO django_migrations VALUES(18,'auth','0012_alter_user_first_name_max_length','2025-05-16 02:23:53.548725');
INSERT INTO django_migrations VALUES(19,'api','0002_utilisateur_groups_utilisateur_is_superuser_and_more','2025-05-16 02:23:53.601655');
INSERT INTO django_migrations VALUES(20,'api','0003_alter_utilisateur_password','2025-05-16 02:23:53.620423');
INSERT INTO django_migrations VALUES(21,'api','0004_alter_utilisateur_code_access_and_more','2025-05-16 02:23:53.650626');
INSERT INTO django_migrations VALUES(22,'api','0005_dossier_jury_matiere_parametre_specialite_and_more','2025-05-16 02:23:53.740341');
INSERT INTO django_migrations VALUES(23,'api','0006_archivage_alter_dossier_date_inscription','2025-05-16 02:23:53.758172');
INSERT INTO django_migrations VALUES(24,'sessions','0001_initial','2025-05-16 02:23:53.774026');
INSERT INTO django_migrations VALUES(25,'token_blacklist','0001_initial','2025-05-16 02:23:53.803971');
INSERT INTO django_migrations VALUES(26,'token_blacklist','0002_outstandingtoken_jti_hex','2025-05-16 02:23:53.822486');
INSERT INTO django_migrations VALUES(27,'token_blacklist','0003_auto_20171017_2007','2025-05-16 02:23:53.857533');
INSERT INTO django_migrations VALUES(28,'token_blacklist','0004_auto_20171017_2013','2025-05-16 02:23:53.876658');
INSERT INTO django_migrations VALUES(29,'token_blacklist','0005_remove_outstandingtoken_jti','2025-05-16 02:23:53.897657');
INSERT INTO django_migrations VALUES(30,'token_blacklist','0006_auto_20171017_2113','2025-05-16 02:23:53.916194');
INSERT INTO django_migrations VALUES(31,'token_blacklist','0007_auto_20171017_2214','2025-05-16 02:23:53.981249');
INSERT INTO django_migrations VALUES(32,'token_blacklist','0008_migrate_to_bigautofield','2025-05-16 02:23:54.016535');
INSERT INTO django_migrations VALUES(33,'token_blacklist','0010_fix_migrate_to_bigautofield','2025-05-16 02:23:54.049379');
INSERT INTO django_migrations VALUES(34,'token_blacklist','0011_linearizes_history','2025-05-16 02:23:54.055520');
INSERT INTO django_migrations VALUES(35,'token_blacklist','0012_alter_outstandingtoken_user','2025-05-16 02:23:54.073147');
CREATE TABLE IF NOT EXISTS "api_concours" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "date_debut" varchar(100) NOT NULL, "date_fin" varchar(100) NOT NULL, "annee_civile" varchar(100) NOT NULL);
CREATE TABLE IF NOT EXISTS "api_diplome" ("id_diplome" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "libelle" varchar(100) NOT NULL, "abreviation" varchar(100) NOT NULL);
CREATE TABLE IF NOT EXISTS "api_infosgenerales" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "nom_universite" varchar(100) NOT NULL, "nom_ecole" varchar(100) NOT NULL, "ville" varchar(100) NOT NULL, "rue" varchar(100) NOT NULL, "bp" varchar(100) NOT NULL, "tel" varchar(100) NOT NULL, "fax" varchar(100) NOT NULL, "email" varchar(100) NOT NULL, "adr_site_web" varchar(255) NOT NULL, "nom_responsable_ecole" varchar(100) NOT NULL, "titre_responsable_ecole" varchar(100) NOT NULL, "nom_responsable_etude" varchar(100) NOT NULL, "titre_responsable_etude" varchar(100) NOT NULL);
CREATE TABLE IF NOT EXISTS "api_mention" ("id_mention" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "libelle" varchar(100) NOT NULL, "abreviation" varchar(100) NOT NULL, "moy_min" decimal NOT NULL, "moy_max" decimal NOT NULL);
CREATE TABLE IF NOT EXISTS "api_pays" ("id_pays" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "nom_pays" varchar(100) NOT NULL, "code_pays" varchar(3) NOT NULL, "indicatif" varchar(5) NULL, "nationalite" varchar(100) NULL);
CREATE TABLE IF NOT EXISTS "api_profil" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "numProfil" varchar(100) NOT NULL, "nomProfil" varchar(100) NOT NULL);
CREATE TABLE IF NOT EXISTS "api_serie" ("id_serie" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "libelle" varchar(100) NOT NULL);
CREATE TABLE IF NOT EXISTS "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "api_utilisateur" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL);
CREATE TABLE IF NOT EXISTS "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL);
INSERT INTO django_content_type VALUES(1,'admin','logentry');
INSERT INTO django_content_type VALUES(2,'auth','permission');
INSERT INTO django_content_type VALUES(3,'auth','group');
INSERT INTO django_content_type VALUES(4,'contenttypes','contenttype');
INSERT INTO django_content_type VALUES(5,'sessions','session');
INSERT INTO django_content_type VALUES(6,'token_blacklist','blacklistedtoken');
INSERT INTO django_content_type VALUES(7,'token_blacklist','outstandingtoken');
INSERT INTO django_content_type VALUES(8,'api','concours');
INSERT INTO django_content_type VALUES(9,'api','diplome');
INSERT INTO django_content_type VALUES(10,'api','infosgenerales');
INSERT INTO django_content_type VALUES(11,'api','mention');
INSERT INTO django_content_type VALUES(12,'api','pays');
INSERT INTO django_content_type VALUES(13,'api','profil');
INSERT INTO django_content_type VALUES(14,'api','serie');
INSERT INTO django_content_type VALUES(15,'api','utilisateur');
INSERT INTO django_content_type VALUES(16,'api','dossier');
INSERT INTO django_content_type VALUES(17,'api','jury');
INSERT INTO django_content_type VALUES(18,'api','matiere');
INSERT INTO django_content_type VALUES(19,'api','parametre');
INSERT INTO django_content_type VALUES(20,'api','specialite');
INSERT INTO django_content_type VALUES(21,'api','eleve');
INSERT INTO django_content_type VALUES(22,'api','membrejury');
INSERT INTO django_content_type VALUES(23,'api','note');
INSERT INTO django_content_type VALUES(24,'api','diplomeobtenu');
INSERT INTO django_content_type VALUES(25,'api','coefficientmatierephase');
INSERT INTO django_content_type VALUES(26,'api','candidat');
INSERT INTO django_content_type VALUES(27,'api','archivage');
CREATE TABLE IF NOT EXISTS "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL);
INSERT INTO auth_permission VALUES(1,1,'add_logentry','Can add log entry');
INSERT INTO auth_permission VALUES(2,1,'change_logentry','Can change log entry');
INSERT INTO auth_permission VALUES(3,1,'delete_logentry','Can delete log entry');
INSERT INTO auth_permission VALUES(4,1,'view_logentry','Can view log entry');
INSERT INTO auth_permission VALUES(5,2,'add_permission','Can add permission');
INSERT INTO auth_permission VALUES(6,2,'change_permission','Can change permission');
INSERT INTO auth_permission VALUES(7,2,'delete_permission','Can delete permission');
INSERT INTO auth_permission VALUES(8,2,'view_permission','Can view permission');
INSERT INTO auth_permission VALUES(9,3,'add_group','Can add group');
INSERT INTO auth_permission VALUES(10,3,'change_group','Can change group');
INSERT INTO auth_permission VALUES(11,3,'delete_group','Can delete group');
INSERT INTO auth_permission VALUES(12,3,'view_group','Can view group');
INSERT INTO auth_permission VALUES(13,4,'add_contenttype','Can add content type');
INSERT INTO auth_permission VALUES(14,4,'change_contenttype','Can change content type');
INSERT INTO auth_permission VALUES(15,4,'delete_contenttype','Can delete content type');
INSERT INTO auth_permission VALUES(16,4,'view_contenttype','Can view content type');
INSERT INTO auth_permission VALUES(17,5,'add_session','Can add session');
INSERT INTO auth_permission VALUES(18,5,'change_session','Can change session');
INSERT INTO auth_permission VALUES(19,5,'delete_session','Can delete session');
INSERT INTO auth_permission VALUES(20,5,'view_session','Can view session');
INSERT INTO auth_permission VALUES(21,6,'add_blacklistedtoken','Can add blacklisted token');
INSERT INTO auth_permission VALUES(22,6,'change_blacklistedtoken','Can change blacklisted token');
INSERT INTO auth_permission VALUES(23,6,'delete_blacklistedtoken','Can delete blacklisted token');
INSERT INTO auth_permission VALUES(24,6,'view_blacklistedtoken','Can view blacklisted token');
INSERT INTO auth_permission VALUES(25,7,'add_outstandingtoken','Can add outstanding token');
INSERT INTO auth_permission VALUES(26,7,'change_outstandingtoken','Can change outstanding token');
INSERT INTO auth_permission VALUES(27,7,'delete_outstandingtoken','Can delete outstanding token');
INSERT INTO auth_permission VALUES(28,7,'view_outstandingtoken','Can view outstanding token');
INSERT INTO auth_permission VALUES(29,8,'add_concours','Can add concours');
INSERT INTO auth_permission VALUES(30,8,'change_concours','Can change concours');
INSERT INTO auth_permission VALUES(31,8,'delete_concours','Can delete concours');
INSERT INTO auth_permission VALUES(32,8,'view_concours','Can view concours');
INSERT INTO auth_permission VALUES(33,9,'add_diplome','Can add diplome');
INSERT INTO auth_permission VALUES(34,9,'change_diplome','Can change diplome');
INSERT INTO auth_permission VALUES(35,9,'delete_diplome','Can delete diplome');
INSERT INTO auth_permission VALUES(36,9,'view_diplome','Can view diplome');
INSERT INTO auth_permission VALUES(37,10,'add_infosgenerales','Can add infos generales');
INSERT INTO auth_permission VALUES(38,10,'change_infosgenerales','Can change infos generales');
INSERT INTO auth_permission VALUES(39,10,'delete_infosgenerales','Can delete infos generales');
INSERT INTO auth_permission VALUES(40,10,'view_infosgenerales','Can view infos generales');
INSERT INTO auth_permission VALUES(41,11,'add_mention','Can add mention');
INSERT INTO auth_permission VALUES(42,11,'change_mention','Can change mention');
INSERT INTO auth_permission VALUES(43,11,'delete_mention','Can delete mention');
INSERT INTO auth_permission VALUES(44,11,'view_mention','Can view mention');
INSERT INTO auth_permission VALUES(45,12,'add_pays','Can add pays');
INSERT INTO auth_permission VALUES(46,12,'change_pays','Can change pays');
INSERT INTO auth_permission VALUES(47,12,'delete_pays','Can delete pays');
INSERT INTO auth_permission VALUES(48,12,'view_pays','Can view pays');
INSERT INTO auth_permission VALUES(49,13,'add_profil','Can add profil');
INSERT INTO auth_permission VALUES(50,13,'change_profil','Can change profil');
INSERT INTO auth_permission VALUES(51,13,'delete_profil','Can delete profil');
INSERT INTO auth_permission VALUES(52,13,'view_profil','Can view profil');
INSERT INTO auth_permission VALUES(53,14,'add_serie','Can add serie');
INSERT INTO auth_permission VALUES(54,14,'change_serie','Can change serie');
INSERT INTO auth_permission VALUES(55,14,'delete_serie','Can delete serie');
INSERT INTO auth_permission VALUES(56,14,'view_serie','Can view serie');
INSERT INTO auth_permission VALUES(57,15,'add_utilisateur','Can add utilisateur');
INSERT INTO auth_permission VALUES(58,15,'change_utilisateur','Can change utilisateur');
INSERT INTO auth_permission VALUES(59,15,'delete_utilisateur','Can delete utilisateur');
INSERT INTO auth_permission VALUES(60,15,'view_utilisateur','Can view utilisateur');
INSERT INTO auth_permission VALUES(61,16,'add_dossier','Can add dossier');
INSERT INTO auth_permission VALUES(62,16,'change_dossier','Can change dossier');
INSERT INTO auth_permission VALUES(63,16,'delete_dossier','Can delete dossier');
INSERT INTO auth_permission VALUES(64,16,'view_dossier','Can view dossier');
INSERT INTO auth_permission VALUES(65,17,'add_jury','Can add jury');
INSERT INTO auth_permission VALUES(66,17,'change_jury','Can change jury');
INSERT INTO auth_permission VALUES(67,17,'delete_jury','Can delete jury');
INSERT INTO auth_permission VALUES(68,17,'view_jury','Can view jury');
INSERT INTO auth_permission VALUES(69,18,'add_matiere','Can add matiere');
INSERT INTO auth_permission VALUES(70,18,'change_matiere','Can change matiere');
INSERT INTO auth_permission VALUES(71,18,'delete_matiere','Can delete matiere');
INSERT INTO auth_permission VALUES(72,18,'view_matiere','Can view matiere');
INSERT INTO auth_permission VALUES(73,19,'add_parametre','Can add parametre');
INSERT INTO auth_permission VALUES(74,19,'change_parametre','Can change parametre');
INSERT INTO auth_permission VALUES(75,19,'delete_parametre','Can delete parametre');
INSERT INTO auth_permission VALUES(76,19,'view_parametre','Can view parametre');
INSERT INTO auth_permission VALUES(77,20,'add_specialite','Can add specialite');
INSERT INTO auth_permission VALUES(78,20,'change_specialite','Can change specialite');
INSERT INTO auth_permission VALUES(79,20,'delete_specialite','Can delete specialite');
INSERT INTO auth_permission VALUES(80,20,'view_specialite','Can view specialite');
INSERT INTO auth_permission VALUES(81,21,'add_eleve','Can add eleve');
INSERT INTO auth_permission VALUES(82,21,'change_eleve','Can change eleve');
INSERT INTO auth_permission VALUES(83,21,'delete_eleve','Can delete eleve');
INSERT INTO auth_permission VALUES(84,21,'view_eleve','Can view eleve');
INSERT INTO auth_permission VALUES(85,22,'add_membrejury','Can add membre jury');
INSERT INTO auth_permission VALUES(86,22,'change_membrejury','Can change membre jury');
INSERT INTO auth_permission VALUES(87,22,'delete_membrejury','Can delete membre jury');
INSERT INTO auth_permission VALUES(88,22,'view_membrejury','Can view membre jury');
INSERT INTO auth_permission VALUES(89,23,'add_note','Can add note');
INSERT INTO auth_permission VALUES(90,23,'change_note','Can change note');
INSERT INTO auth_permission VALUES(91,23,'delete_note','Can delete note');
INSERT INTO auth_permission VALUES(92,23,'view_note','Can view note');
INSERT INTO auth_permission VALUES(93,24,'add_diplomeobtenu','Can add diplome obtenu');
INSERT INTO auth_permission VALUES(94,24,'change_diplomeobtenu','Can change diplome obtenu');
INSERT INTO auth_permission VALUES(95,24,'delete_diplomeobtenu','Can delete diplome obtenu');
INSERT INTO auth_permission VALUES(96,24,'view_diplomeobtenu','Can view diplome obtenu');
INSERT INTO auth_permission VALUES(97,25,'add_coefficientmatierephase','Can add coefficient matiere phase');
INSERT INTO auth_permission VALUES(98,25,'change_coefficientmatierephase','Can change coefficient matiere phase');
INSERT INTO auth_permission VALUES(99,25,'delete_coefficientmatierephase','Can delete coefficient matiere phase');
INSERT INTO auth_permission VALUES(100,25,'view_coefficientmatierephase','Can view coefficient matiere phase');
INSERT INTO auth_permission VALUES(101,26,'add_candidat','Can add candidat');
INSERT INTO auth_permission VALUES(102,26,'change_candidat','Can change candidat');
INSERT INTO auth_permission VALUES(103,26,'delete_candidat','Can delete candidat');
INSERT INTO auth_permission VALUES(104,26,'view_candidat','Can view candidat');
INSERT INTO auth_permission VALUES(105,27,'add_archivage','Can add archivage');
INSERT INTO auth_permission VALUES(106,27,'change_archivage','Can change archivage');
INSERT INTO auth_permission VALUES(107,27,'delete_archivage','Can delete archivage');
INSERT INTO auth_permission VALUES(108,27,'view_archivage','Can view archivage');
CREATE TABLE IF NOT EXISTS "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE);
CREATE TABLE IF NOT EXISTS "api_utilisateur_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "utilisateur_id" bigint NOT NULL REFERENCES "api_utilisateur" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "api_utilisateur_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "utilisateur_id" bigint NOT NULL REFERENCES "api_utilisateur" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "api_utilisateur" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "nom" varchar(100) NOT NULL, "prenom" varchar(100) NOT NULL, "telephone" varchar(100) NOT NULL, "code_access" varchar(100) NOT NULL UNIQUE, "password" varchar(128) NOT NULL, "profil_id" bigint NULL REFERENCES "api_profil" ("id") DEFERRABLE INITIALLY DEFERRED, "is_superuser" bool NOT NULL, "last_login" datetime NULL, "email" varchar(100) NOT NULL);
CREATE TABLE IF NOT EXISTS "api_jury" ("id_jury" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "libelle" varchar(100) NOT NULL);
CREATE TABLE IF NOT EXISTS "api_matiere" ("id_matiere" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "libelle" varchar(100) NOT NULL, "abreviation" varchar(100) NOT NULL);
CREATE TABLE IF NOT EXISTS "api_parametre" ("id_parametre" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "duree_max_oisivete" integer NOT NULL, "bonus_annee_bac" integer NOT NULL);
CREATE TABLE IF NOT EXISTS "api_specialite" ("id_specialite" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "libelle" varchar(100) NOT NULL, "abreviation" varchar(100) NOT NULL);
CREATE TABLE IF NOT EXISTS "api_eleve" ("id_eleve" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "nom" varchar(100) NOT NULL, "prenom" varchar(100) NOT NULL, "sexe" varchar(1) NOT NULL, "date_naissance" date NOT NULL, "lieu_naissance" varchar(100) NOT NULL, "telephone" varchar(20) NOT NULL, "email" varchar(254) NOT NULL, "addresse" varchar(100) NOT NULL, "pays_naissance_id" integer NULL REFERENCES "api_pays" ("id_pays") DEFERRABLE INITIALLY DEFERRED, "dossier_id" integer NULL REFERENCES "api_dossier" ("id_dossier") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "api_membrejury" ("id_membre" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "nom" varchar(100) NOT NULL, "prenom" varchar(100) NOT NULL, "jury_id" integer NULL REFERENCES "api_jury" ("id_jury") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "api_note" ("id_note" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "note" decimal NOT NULL, "est_preselection" bool NOT NULL, "matiere_id" integer NULL REFERENCES "api_matiere" ("id_matiere") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "api_diplomeobtenu" ("id_diplome_obtenu" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "annee" integer NOT NULL, "diplome_id" integer NULL REFERENCES "api_diplome" ("id_diplome") DEFERRABLE INITIALLY DEFERRED, "mention_id" integer NULL REFERENCES "api_mention" ("id_mention") DEFERRABLE INITIALLY DEFERRED, "pays_id" integer NULL REFERENCES "api_pays" ("id_pays") DEFERRABLE INITIALLY DEFERRED, "serie_id" integer NULL REFERENCES "api_serie" ("id_serie") DEFERRABLE INITIALLY DEFERRED, "dossier_id" integer NULL REFERENCES "api_dossier" ("id_dossier") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "api_diplomeobtenu_notes" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "diplomeobtenu_id" integer NOT NULL REFERENCES "api_diplomeobtenu" ("id_diplome_obtenu") DEFERRABLE INITIALLY DEFERRED, "note_id" integer NOT NULL REFERENCES "api_note" ("id_note") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "api_coefficientmatierephase" ("id_coeffmp" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "estPreselection" bool NOT NULL, "coefficient" integer NOT NULL, "matiere_id" integer NULL REFERENCES "api_matiere" ("id_matiere") DEFERRABLE INITIALLY DEFERRED, "specialite_id" integer NULL REFERENCES "api_specialite" ("id_specialite") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "api_candidat" ("eleve_ptr_id" integer NOT NULL UNIQUE REFERENCES "api_eleve" ("id_eleve") DEFERRABLE INITIALLY DEFERRED, "num_table" integer NOT NULL PRIMARY KEY AUTOINCREMENT);
CREATE TABLE IF NOT EXISTS "api_candidat_notes" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "candidat_id" integer NOT NULL REFERENCES "api_candidat" ("num_table") DEFERRABLE INITIALLY DEFERRED, "note_id" integer NOT NULL REFERENCES "api_note" ("id_note") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "api_archivage" ("id_archive" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "fichier" varchar(255) NOT NULL, "date" date NOT NULL);
INSERT INTO api_archivage VALUES(1,'archives/export_20250516_023200.sql','2025-05-16');
INSERT INTO api_archivage VALUES(2,'archives/export_20250516_024040.sql','2025-05-16');
INSERT INTO api_archivage VALUES(3,'archives/export_20250516_024437.sql','2025-05-16');
CREATE TABLE IF NOT EXISTS "api_dossier" ("id_dossier" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "specialite_id" integer NULL REFERENCES "api_specialite" ("id_specialite") DEFERRABLE INITIALLY DEFERRED, "date_inscription" date NOT NULL);
CREATE TABLE IF NOT EXISTS "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL);
CREATE TABLE IF NOT EXISTS "token_blacklist_blacklistedtoken" ("blacklisted_at" datetime NOT NULL, "token_id" bigint NOT NULL UNIQUE REFERENCES "token_blacklist_outstandingtoken" ("id") DEFERRABLE INITIALLY DEFERRED, "id" integer NOT NULL PRIMARY KEY AUTOINCREMENT);
CREATE TABLE IF NOT EXISTS "token_blacklist_outstandingtoken" ("token" text NOT NULL, "created_at" datetime NULL, "expires_at" datetime NOT NULL, "user_id" bigint NULL REFERENCES "api_utilisateur" ("id") DEFERRABLE INITIALLY DEFERRED, "jti" varchar(255) NOT NULL UNIQUE, "id" integer NOT NULL PRIMARY KEY AUTOINCREMENT);
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('django_migrations',35);
INSERT INTO sqlite_sequence VALUES('django_admin_log',0);
INSERT INTO sqlite_sequence VALUES('django_content_type',27);
INSERT INTO sqlite_sequence VALUES('auth_permission',108);
INSERT INTO sqlite_sequence VALUES('auth_group',0);
INSERT INTO sqlite_sequence VALUES('api_utilisateur',0);
INSERT INTO sqlite_sequence VALUES('api_dossier',0);
INSERT INTO sqlite_sequence VALUES('token_blacklist_blacklistedtoken',0);
INSERT INTO sqlite_sequence VALUES('token_blacklist_outstandingtoken',0);
INSERT INTO sqlite_sequence VALUES('api_archivage',3);
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id");
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id");
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model");
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id");
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id");
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id");
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename");
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id");
CREATE UNIQUE INDEX "api_utilisateur_groups_utilisateur_id_group_id_1308bcb4_uniq" ON "api_utilisateur_groups" ("utilisateur_id", "group_id");
CREATE INDEX "api_utilisateur_groups_utilisateur_id_0caa6b93" ON "api_utilisateur_groups" ("utilisateur_id");
CREATE INDEX "api_utilisateur_groups_group_id_fdf78c4b" ON "api_utilisateur_groups" ("group_id");
CREATE UNIQUE INDEX "api_utilisateur_user_permissions_utilisateur_id_permission_id_61068701_uniq" ON "api_utilisateur_user_permissions" ("utilisateur_id", "permission_id");
CREATE INDEX "api_utilisateur_user_permissions_utilisateur_id_60df7149" ON "api_utilisateur_user_permissions" ("utilisateur_id");
CREATE INDEX "api_utilisateur_user_permissions_permission_id_69653c2f" ON "api_utilisateur_user_permissions" ("permission_id");
CREATE INDEX "api_utilisateur_profil_id_4bed7824" ON "api_utilisateur" ("profil_id");
CREATE INDEX "api_eleve_pays_naissance_id_e74d9747" ON "api_eleve" ("pays_naissance_id");
CREATE INDEX "api_eleve_dossier_id_5217b65c" ON "api_eleve" ("dossier_id");
CREATE INDEX "api_membrejury_jury_id_dc924c7a" ON "api_membrejury" ("jury_id");
CREATE INDEX "api_note_matiere_id_f46c6d13" ON "api_note" ("matiere_id");
CREATE INDEX "api_diplomeobtenu_diplome_id_7d654a76" ON "api_diplomeobtenu" ("diplome_id");
CREATE INDEX "api_diplomeobtenu_mention_id_81e29384" ON "api_diplomeobtenu" ("mention_id");
CREATE INDEX "api_diplomeobtenu_pays_id_237a7f1a" ON "api_diplomeobtenu" ("pays_id");
CREATE INDEX "api_diplomeobtenu_serie_id_d54ff6cc" ON "api_diplomeobtenu" ("serie_id");
CREATE INDEX "api_diplomeobtenu_dossier_id_f9811a72" ON "api_diplomeobtenu" ("dossier_id");
CREATE UNIQUE INDEX "api_diplomeobtenu_notes_diplomeobtenu_id_note_id_6eed1649_uniq" ON "api_diplomeobtenu_notes" ("diplomeobtenu_id", "note_id");
CREATE INDEX "api_diplomeobtenu_notes_diplomeobtenu_id_ce7b2b35" ON "api_diplomeobtenu_notes" ("diplomeobtenu_id");
CREATE INDEX "api_diplomeobtenu_notes_note_id_baae7c21" ON "api_diplomeobtenu_notes" ("note_id");
CREATE INDEX "api_coefficientmatierephase_matiere_id_a0c938f6" ON "api_coefficientmatierephase" ("matiere_id");
CREATE INDEX "api_coefficientmatierephase_specialite_id_470bb3a7" ON "api_coefficientmatierephase" ("specialite_id");
CREATE UNIQUE INDEX "api_candidat_notes_candidat_id_note_id_7ae5f604_uniq" ON "api_candidat_notes" ("candidat_id", "note_id");
CREATE INDEX "api_candidat_notes_candidat_id_a5cd5576" ON "api_candidat_notes" ("candidat_id");
CREATE INDEX "api_candidat_notes_note_id_e979e63e" ON "api_candidat_notes" ("note_id");
CREATE INDEX "api_dossier_specialite_id_b02e2619" ON "api_dossier" ("specialite_id");
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date");
CREATE INDEX "token_blacklist_outstandingtoken_user_id_83bc629a" ON "token_blacklist_outstandingtoken" ("user_id");
COMMIT;
